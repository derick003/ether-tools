(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ce72ad3"],{3086:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"call"},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",[n("el-upload",{staticClass:"upload-demo",attrs:{drag:"","on-change":e.readJson,"auto-upload":!1,action:"alert",limit:1}},[n("i",{staticClass:"el-icon-upload"}),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("请上传合约的json文件")])])],1)],1),n("el-select",{attrs:{placeholder:"selector"},on:{change:e.change},model:{value:e.selector,callback:function(t){e.selector=t},expression:"selector"}},e._l(e.functions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},disabled:!0},model:{value:e.funcInfo,callback:function(t){e.funcInfo=t},expression:"funcInfo"}}),n("div",{attrs:{id:"workflow"}},[n("div",{staticClass:"box"},[n("el-button",{attrs:{type:"primary"},on:{click:e.encode}},[e._v("encode")]),n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},model:{value:e.encodeParams,callback:function(t){e.encodeParams=t},expression:"encodeParams"}}),n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},disabled:!0},model:{value:e.encodeResult,callback:function(t){e.encodeResult=t},expression:"encodeResult"}})],1),n("div",{staticClass:"box"},[n("el-button",{attrs:{type:"primary"},on:{click:e.decode}},[e._v("decode")]),n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},model:{value:e.decodeParams,callback:function(t){e.decodeParams=t},expression:"decodeParams"}}),n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},disabled:!0},model:{value:e.decodeResult,callback:function(t){e.decodeResult=t},expression:"decodeResult"}})],1)])],1)},s=[];const a=n("c030");var l={name:"Explain",data(){return{provider:null,signer:null,contractAbi:null,functions:[{value:"",label:""}],selector:"",selectorIndex:"",funcInfo:"",encodeParams:"",encodeResult:"",decodeParams:"",decodeResult:""}},mounted:function(){this.initMetaMask()},methods:{async initMetaMask(){window.ethereum.enable().then(this.provider=new a.providers.Web3Provider(window.ethereum)),this.signer=this.provider.getSigner(),this.functions=[]},readJson(e){let t=new FileReader;t.onload=async e=>{try{let t=JSON.parse(e.target.result);this.contractAbi=t.abi.filter(e=>"function"==e.type);const n=this.contractAbi.map((e,t)=>({value:t,label:e.name}));this.functions=n}catch(t){console.log("load JSON document from file error: "+t.message),this.showSnackbar("Load JSON document from file error: "+t.message,4e3)}},t.readAsText(e.raw)},change(e){console.log(e),this.selectorIndex=e;const t=this.contractAbi[e];console.log(t);let n="(",o={};for(let s=0;s<t.inputs.length;s++)if(n+=t.inputs[s].internalType+" "+t.inputs[s].name,s!=t.inputs.length-1&&(n+=","),"tuple"==t.inputs[s].type){o[t.inputs[s].name]={};for(let e=0;e<t.inputs[s].components.length;e++){const n=t.inputs[s].components[e].name;o[t.inputs[s].name][n]=t.inputs[s].components[e].internalType}}n+=")",this.funcInfo=t.name+n+"\n"+JSON.stringify(o,null,"\t"),this.encodeParams="",this.encodeResult="",this.decodeParams="",this.decodeResult=""},encode(){console.log(this.encodeParams);const e=this.encodeParams.split(";"),t=new a.utils.Interface(this.contractAbi);let n;const o=this.contractAbi[this.selectorIndex];for(let s=0;s<e.length;s++)"tuple"==o.inputs[s].type&&(e[s]=JSON.parse(e[s]));n=o.inputs.length>0?t.encodeFunctionData(o.name,e):t.encodeFunctionData(o.name),this.encodeResult=n},decode(){console.log(this.decodeParams);const e=new a.utils.Interface(this.contractAbi);let t;const n=this.contractAbi[this.selectorIndex];t=n.inputs.length>0?e.decodeFunctionData(n.name,this.decodeParams):e.decodeFunctionData(n.name),console.log(t),console.log(t.toString());let o="";for(let s=0;s<t.length;s++)o+=t[s]+"\n";this.decodeResult=o}}},i=l,c=(n("6124"),n("2877")),r=Object(c["a"])(i,o,s,!1,null,null,null);t["default"]=r.exports},6124:function(e,t,n){"use strict";n("f2b8")},f2b8:function(e,t,n){}}]);
//# sourceMappingURL=chunk-4ce72ad3.ed46e887.js.map