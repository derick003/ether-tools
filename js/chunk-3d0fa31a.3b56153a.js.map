{"version":3,"sources":["webpack:///./src/views/Call.vue?547a","webpack:///./src/views/Call.vue?8c45","webpack:///src/views/Call.vue","webpack:///./src/views/Call.vue?bfc2","webpack:///./src/views/Call.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","connectAddress","attrs","staticStyle","model","value","callback","$$v","contract","expression","readJson","slot","on","generate","_l","func","index","key","name","$set","inputs","length","$event","onInput","_e","callContract","inputTypes","stateMutability","outputs","result","staticRenderFns","ethers","provider","signer","contractJson","functions","funcName","mounted","initMetaMask","methods","window","ethereum","enable","then","providers","Web3Provider","getSigner","getAddress","file","reader","FileReader","onload","async","e","document","JSON","parse","target","err","console","log","message","showSnackbar","readAsText","raw","$message","error","i","abi","type","inputLength","parameterNames","inputTypesBackup","j","components","k","outputLength","iface","utils","Interface","method","getSighash","Array","state","Contract","parameters","split","params","param","indexOf","substring","processParam","functionName","toString","hash","Object","assign","input","arr","newArr","push","parseUnits","$forceUpdate","component"],"mappings":"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","file":"js/chunk-3d0fa31a.3b56153a.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Call.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"call\"},[_vm._v(\" 钱包: \"+_vm._s(_vm.connectAddress)+\" \"),_c('el-form',{attrs:{\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"合约地址\"}},[_c('el-input',{staticStyle:{\"width\":\"280px\"},model:{value:(_vm.contract),callback:function ($$v) {_vm.contract=$$v},expression:\"contract\"}})],1),_c('el-form-item',[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"on-change\":_vm.readJson,\"auto-upload\":false,\"action\":\"alert\",\"limit\":1}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"请上传合约的json文件\")])])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":true},on:{\"click\":_vm.generate}},[_vm._v(\"生成\")])],1)],1),_vm._l((_vm.functions),function(func,index){return _c('el-form',{key:index,attrs:{\"label-position\":\"right\",\"label-width\":\"300px\"}},[_c('el-form-item',{attrs:{\"label\":func.name}},[_c('el-input',{staticStyle:{\"width\":\"110px\"},attrs:{\"readonly\":true},model:{value:(func.selector),callback:function ($$v) {_vm.$set(func, \"selector\", $$v)},expression:\"func.selector\"}}),(func.inputs.length > 0)?_c('el-input',{staticStyle:{\"width\":\"800px\"},attrs:{\"placeholder\":func.inputs},on:{\"input\":function($event){return _vm.onInput()}},model:{value:(func.params),callback:function ($$v) {_vm.$set(func, \"params\", $$v)},expression:\"func.params\"}}):_vm._e(),_c('el-button',{on:{\"click\":function($event){return _vm.callContract(func.name, func.inputTypes, index, func.stateMutability)}}},[_vm._v(\" 发送\")]),(func.outputs.length > 0)?_c('div',{staticClass:\"outputs\"},[_vm._v(\" outputs: \"+_vm._s(func.outputs)+\" \")]):_vm._e(),_c('div',{staticClass:\"outputs\"},[_vm._v(\" \"+_vm._s(func.result)+\" \")])],1)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"call\">\r\n\t\t钱包: {{ connectAddress }}\r\n\t\t<el-form label-width=\"80px\">\r\n\t\t\t<el-form-item label=\"合约地址\">\r\n\t\t\t\t<el-input v-model=\"contract\" style=\"width: 280px;\"></el-input>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-upload class=\"upload-demo\" drag :on-change=\"readJson\" :auto-upload=\"false\" action=\"alert\" :limit=1>\r\n\t\t\t\t\t<i class=\"el-icon-upload\"></i>\r\n\t\t\t\t\t<div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n\t\t\t\t\t<div class=\"el-upload__tip\" slot=\"tip\">请上传合约的json文件</div>\r\n\t\t\t\t</el-upload>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" :plain=\"true\" @click=\"generate\">生成</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\r\n\t\t<el-form label-position=\"right\" label-width=\"300px\" v-for=\"(func, index) in functions\" :key=\"index\">\r\n\t\t\t<el-form-item :label=\"func.name\">\r\n\t\t\t\t<el-input v-model=\"func.selector\" style=\"width: 110px;\" :readonly=\"true\"></el-input>\r\n\t\t\t\t<el-input v-if=\"func.inputs.length > 0\" style=\"width: 800px;\" v-model=\"func.params\" @input=\"onInput()\"\r\n\t\t\t\t\t:placeholder=\"func.inputs\"></el-input>\r\n\t\t\t\t<el-button\r\n\t\t\t\t\t@click=\"callContract(func.name, func.inputTypes, index, func.stateMutability)\">\r\n\t\t\t\t\t发送</el-button>\r\n\t\t\t\t<div class=\"outputs\" v-if=\"func.outputs.length > 0\">\r\n\t\t\t\t\toutputs: {{ func.outputs }}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"outputs\">\r\n\t\t\t\t\t{{ func.result }}\r\n\t\t\t\t</div>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\nconst ethers = require('ethers');\r\n\r\nexport default {\r\n\tname: 'Call',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tconnectAddress: '',\r\n\t\t\tprovider: null,\r\n\t\t\tsigner: null,\r\n\t\t\tcontract: '',\r\n\t\t\tcontractJson: null,\r\n\t\t\tfunctions: [{\r\n\t\t\t\t\"name\": '',\r\n\t\t\t\t\"inputTypes\": '',\r\n\t\t\t\t\"inputs\": '',\r\n\t\t\t\t\"outputs\": '',\r\n\t\t\t\t\"stateMutability\": '',\r\n\t\t\t\t\"parameterNames\": '',\r\n\t\t\t\t\"params\": '',\r\n\t\t\t\t\"result\": ''\r\n\t\t\t}],\r\n\t\t\tfuncName: {\r\n\t\t\t\tinputs: [],\r\n\t\t\t},\r\n\t\t\tresult: [],\r\n\t\t}\r\n\t},\r\n\tmounted: function () {\r\n\t\tthis.initMetaMask();\r\n\t},\r\n\tmethods: {\r\n\t\tasync initMetaMask() {\r\n\t\t\twindow.ethereum.enable().then(this.provider = new ethers.providers.Web3Provider(window.ethereum));\r\n\t\t\tthis.signer = this.provider.getSigner();\r\n\t\t\tthis.connectAddress = await this.signer.getAddress();\r\n\t\t\tthis.functions = [];\r\n\t\t},\r\n\t\treadJson(file) {\r\n\t\t\tlet reader = new FileReader()\r\n\t\t\treader.onload = async (e) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet document = JSON.parse(e.target.result)\r\n\t\t\t\t\tthis.contractJson = document;\r\n\t\t\t\t\t// console.log(\"document\", document);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tconsole.log(`load JSON document from file error: ${err.message}`)\r\n\t\t\t\t\tthis.showSnackbar(`Load JSON document from file error: ${err.message}`, 4000)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treader.readAsText(file.raw)\r\n\t\t},\r\n\t\tgenerate() {\r\n\t\t\tif (this.contract == '') {\r\n\t\t\t\tthis.$message.error('合约地址不能为空');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.contractJson == null) {\r\n\t\t\t\tthis.$message.error('未上传abi文件');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.functions = [];\r\n\t\t\tlet index = 0;\r\n\t\t\tfor (let i = 0; i < this.contractJson.abi.length; i++) {\r\n\t\t\t\tif (this.contractJson.abi[i].type == \"function\") {\r\n\t\t\t\t\tlet inputLength = this.contractJson.abi[i].inputs.length;\r\n\t\t\t\t\tlet inputs = \"\";\r\n\t\t\t\t\tlet inputTypes = \"\";\r\n\t\t\t\t\tlet parameterNames = \"\";\r\n\t\t\t\t\tlet inputTypesBackup = \"\";\r\n\t\t\t\t\tif (inputLength > 0) {\r\n\t\t\t\t\t\tconsole.log(this.contractJson.abi[i]);\r\n\t\t\t\t\t\tfor (let j = 0; j < inputLength; j++) {\r\n\t\t\t\t\t\t\tinputTypes += this.contractJson.abi[i].inputs[j].type;\r\n\t\t\t\t\t\t\tinputTypesBackup += this.contractJson.abi[i].inputs[j].type;\r\n\t\t\t\t\t\t\tif(this.contractJson.abi[i].inputs[j].type == \"tuple\" || this.contractJson.abi[i].inputs[j].type == \"tuple[]\") {\r\n\t\t\t\t\t\t\t\tlet components = this.contractJson.abi[i].inputs[j].components;\r\n\t\t\t\t\t\t\t\tinputTypesBackup += \"(\";\r\n\t\t\t\t\t\t\t\tfor(let k = 0; k < components.length; k++) {\r\n\t\t\t\t\t\t\t\t\tinputTypesBackup += components[k].type;\r\n\t\t\t\t\t\t\t\t\tif (k != components.length - 1) {\r\n\t\t\t\t\t\t\t\t\t\tinputTypesBackup += \",\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tinputTypesBackup += \")\";\r\n\t\t\t\t\t\t\t\t// console.log(\"components\", components);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinputs += this.contractJson.abi[i].inputs[j].type + \" \" + this.contractJson.abi[i].inputs[j].name;\r\n\t\t\t\t\t\t\tparameterNames += this.contractJson.abi[i].inputs[j].name;\r\n\t\t\t\t\t\t\tif (j != inputLength - 1) {\r\n\t\t\t\t\t\t\t\tinputs += \",\";\r\n\t\t\t\t\t\t\t\tinputTypes += \",\";\r\n\t\t\t\t\t\t\t\tinputTypesBackup += \",\";\r\n\t\t\t\t\t\t\t\tparameterNames += \",\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// this.contractJson.abi[i].inputs[i].type\r\n\t\t\t\t\t\t\t// this.contractJson.abi[i].inputs[i].name\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet outputLength = this.contractJson.abi[i].outputs.length;\r\n\t\t\t\t\tlet outputs = \"\";\r\n\t\t\t\t\tif (outputLength > 0) {\r\n\t\t\t\t\t\tfor (let j = 0; j < outputLength; j++) {\r\n\t\t\t\t\t\t\toutputs += this.contractJson.abi[i].outputs[j].type + \" \" + this.contractJson.abi[i].outputs[j].name;\r\n\t\t\t\t\t\t\tif (j != outputLength - 1) {\r\n\t\t\t\t\t\t\t\toutputs += \",\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// this.contractJson.abi[i].inputs[i].type\r\n\t\t\t\t\t\t\t// this.contractJson.abi[i].inputs[i].name\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst iface = new ethers.utils.Interface(this.contractJson.abi);\r\n\r\n\t\t\t\t\tconsole.log(\"inputTypesBackup\", inputTypesBackup);\r\n\r\n\t\t\t\t\tconst method = {\r\n\t\t\t\t\t\t\"name\": this.contractJson.abi[i].name,\r\n\t\t\t\t\t\t\"selector\": iface.getSighash(this.contractJson.abi[i].name + \"(\" + inputTypesBackup + \")\"),\r\n\t\t\t\t\t\t\"inputTypes\": inputTypes,\r\n\t\t\t\t\t\t\"inputs\": inputs,\r\n\t\t\t\t\t\t\"outputs\": outputs,\r\n\t\t\t\t\t\t\"stateMutability\": this.contractJson.abi[i].stateMutability,\r\n\t\t\t\t\t\t\"parameterNames\": parameterNames,\r\n\t\t\t\t\t\t\"params\": '',\r\n\t\t\t\t\t\t\"result\": ''\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.functions[index] = method;\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.result = new Array(this.functions.length);\r\n\t\t\t// console.log(this.contractJson.abi)\r\n\t\t},\r\n\t\tasync callContract(name, inputTypes, index, state) {\r\n\t\t\tlet contract = new ethers.Contract(this.contract, this.contractJson.abi, this.signer);\r\n\r\n\t\t\tlet parameters = [];\r\n\t\t\t\r\n\t\t\tconst inputs = inputTypes != \"\" ? inputTypes.split(\",\") : [];\r\n\t\t\tconsole.log(index);\r\n\t\t\tconsole.log(inputs.length);\r\n\t\t\tconsole.log(inputTypes);\r\n\t\t\tlet params = this.functions[index].params;\r\n\t\t\tconsole.log(params);\r\n\t\t\tfor (let i = 0; i < inputs.length; i++) {\r\n\t\t\t\tlet value;\r\n\t\t\t\tlet param;\r\n\t\t\t\tif(i == inputs.length - 1) {\r\n\t\t\t\t\tparam = params;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet index = params.indexOf(\",\");\r\n\t\t\t\t\tparam = params.substring(0, index);\r\n\t\t\t\t\tparams = params.substring(index + 1);\r\n\t\t\t\t}\r\n\t\t\t\tvalue = this.processParam(inputs[i], param);\r\n\t\t\t\tparameters[i] = value;\r\n\t\t\t}\r\n\t\t\tconsole.log(parameters)\r\n\r\n\t\t\tconst functionName = name + \"(\" + inputTypes + \")\";\r\n\t\t\tlet result;\r\n\t\t\tif (inputs.length > 0) {\r\n\t\t\t\tresult = await contract[functionName](...parameters);\r\n\t\t\t} else {\r\n\t\t\t\tresult = await contract[functionName]();\r\n\t\t\t}\r\n\t\t\tif (state == 'view') {\r\n\t\t\t\tthis.functions[index].result = result.toString();\r\n\t\t\t} else {\r\n\t\t\t\tthis.functions[index].result = result.hash.toString();\r\n\t\t\t}\r\n\t\t\tthis.functions = Object.assign([], this.functions);\r\n\t\t},\r\n\t\tprocessParam(input, param) {\r\n\t\t\tif(input.indexOf(\"[]\") >= 0) {\r\n\t\t\t\tparam = param.substring(1, param.length - 1);\r\n\t\t\t\tconst arr = param.split(\";\");\r\n\t\t\t\tconsole.log(arr);\r\n\t\t\t\tconst newArr = [];\r\n\t\t\t\tfor(let i = 0; i < arr.length; i++) {\r\n\t\t\t\t\tif(input.indexOf(\"uint\") >= 0) {\r\n\t\t\t\t\t\tnewArr.push(ethers.utils.parseUnits(arr[i], 0));\r\n\t\t\t\t\t} else if(input == \"bool\") {\r\n\t\t\t\t\t\tnewArr.push(\"true\" == arr[i] ? true : false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewArr.push(arr[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn newArr;\r\n\t\t\t} else if(input.indexOf(\"uint\") >= 0) {\r\n\t\t\t\treturn ethers.utils.parseUnits(param, 0);\r\n\t\t\t} else if(input == \"bool\") {\r\n\t\t\t\treturn \"true\" == param ? true : false;\r\n\t\t\t} else {\r\n\t\t\t\treturn param;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonInput() {\r\n\t\t\tthis.$forceUpdate();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\nbody,\r\nhtml {\r\n\t-webkit-user-select: text;\r\n}\r\n\r\n.text {\r\n\tfont-size: 14px;\r\n\ttext-align: center;\r\n}\r\n\r\n.clearfix:before,\r\n.clearfix:after {\r\n\tdisplay: table;\r\n\tcontent: \"\";\r\n}\r\n\r\n.clearfix:after {\r\n\tclear: both\r\n}\r\n\r\n.outputs {\r\n\tword-break: break-all;\r\n\tword-wrap: break-word;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Call.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Call.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Call.vue?vue&type=template&id=02cd704a&\"\nimport script from \"./Call.vue?vue&type=script&lang=js&\"\nexport * from \"./Call.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Call.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}